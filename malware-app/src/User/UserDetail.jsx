import { useEffect } from "react";
import { useState } from "react";

function UserDetail({ userId, search }) {
  const [user, setUser] = useState(null);
  useEffect(
    () => {
      if (userId) {
        fetch(`https://jsonplaceholder.typicode.com/users/${userId}`)
          .then((response) => response.json())
          .then((data) => setUser(data));
      }
      if (search) {
        fetch(`https://jsonplaceholder.typicode.com/users/${search}`)
          .then((response) => response.json())
          .then((data) => setUser(data));
      }
    },
    [userId],
    [search]
  );

  if (!user) return <p>Ghosted</p>;
  if (!user) return <p>Doesnt exist</p>;

  return (
    <div>
      <p>
        <strong>{user.name}</strong>
      </p>
      <p>Email:{user.email}</p>
      <p>Title:{user.company.name}</p>
      <p>Phone:{user.phone}</p>
      <p>
        Address:{user.address.street},{user.address.city}
      </p>
    </div>
  );
}

export default UserDetail;
